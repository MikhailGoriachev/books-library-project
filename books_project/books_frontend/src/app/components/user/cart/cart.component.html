<h1 mat-dialog-title>Корзина</h1>
<div mat-dialog-content>
    <div class="data-container">
        <table mat-table [dataSource]="dataSource" class="">
            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let elem">
                    <img mat-card-image src="{{baseUrl}}public/images/books/{{elem.image}}?v={{imagesVersion}}" class="w-12 my-5" alt="">
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef><b>Название</b></th>
                <td mat-cell *matCellDef="let elem">{{elem.title}} ({{elem.publicationYear}})</td>
                <td mat-footer-cell *matFooterCellDef><h2><b>Всего</b></h2></td>
            </ng-container>

            <ng-container matColumnDef="publicationYear">
                <th mat-header-cell *matHeaderCellDef><b>Год выпуска</b></th>
                <td mat-cell *matCellDef="let elem">{{elem.publicationYear}} год</td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <ng-container matColumnDef="author">
                <th mat-header-cell *matHeaderCellDef><b>Автор</b></th>
                <td mat-cell *matCellDef="let elem">{{elem.authors | authors}}</td>
                <td mat-footer-cell *matFooterCellDef><h2><b>{{dataSource.data.length}}&nbsp;шт.</b></h2></td>
            </ng-container>

            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef><b>Цена</b></th>
                <td mat-cell *matCellDef="let elem"><b>{{elem.price}}&nbsp;&#8381;</b></td>
                <td mat-footer-cell *matFooterCellDef><h2><b>{{totalPrice}}&nbsp;&#8381;</b></h2></td>
            </ng-container>

            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let elem">
                    <button mat-icon-button (click)="remove($event, elem)">
                        <mat-icon color="warn">delete</mat-icon>
                    </button>
                </td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="headers; sticky: true "></tr>
            <tr mat-row *matRowDef="let row; columns: headers;" class="cursor-pointer" (click)="toBookDetails(row.id)"></tr>
            <tr mat-footer-row *matFooterRowDef="footers; sticky: true"></tr>
        </table>
    </div>
</div>
<div mat-dialog-actions>
    <button mat-raised-button class="" [disabled]="dataSource.data.length <= 0" (click)="buy()" color="success">
        <mat-icon>paid</mat-icon>Купить
    </button>
    <button mat-raised-button class="" [disabled]="dataSource.data.length <= 0" (click)="clearCart()" color="warn">
        <mat-icon>delete_sweep</mat-icon>Очистить
    </button>
    <button mat-raised-button class="w-28" color="primary" mat-dialog-close cdkFocusInitial>
        <mat-icon>arrow_back_ios</mat-icon>Назад
    </button>
</div>
